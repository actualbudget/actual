import{dr as m,r as c,Z as l,d6 as h}from"./index.QBmZrK2W.js";function g(a){const s=m(),[n,o]=c.useState(s),[u,d]=c.useState([]);if(s!==n){if(o(s),s){const p=(s.schedules.filter(e=>f(e,s.statuses))||[]).map(e=>({id:"preview/"+e.id,payee:e._payee,account:e._account,amount:e._amount,date:e.next_date,schedule:e.id}));Promise.all(p.map(e=>l("rules-run",{transaction:e}))).then(e=>{const r=e.map(t=>({...t,category:s.statuses.get(t.schedule),schedule:t.schedule,subtransactions:t.subtransactions?.map(i=>({...i,id:"preview/"+i.id,schedule:t.schedule}))}));d(h(r)),a&&a(r.map(t=>t.id))})}return u}return u}function f(a,s){const n=s.get(a.id);return!a.completed&&(n==="due"||n==="upcoming"||n==="missed")}export{g as u};
//# sourceMappingURL=usePreviewTransactions.wSNV9Sg-.chunk.js.map
